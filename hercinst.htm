<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN" "html.dtd">
<HTML>
<HEAD><TITLE>Snipix Technologies:
Installing and Operating Hercules</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffcc" TEXT="#000000" LINK="#0000A0"
      VLINK="#008040" ALINK="#000000">

<img src="gifs/snipix.gif" alt="Snipix Technologies" align=right hspace=15>
<h1>Installing and Operating Hercules</h1>

<h2>Installation Procedure</h2>
<ol>
<li>Download the distribution file
<a href="hercules/hercules-1.54.tar.gz">hercules-1.54.tar.gz</a>
<p>
<em>Notes:</em>
<ol>
<li>By downloading this file you agree to the terms
    of the <a href="herclic.htm">Hercules Public Licence</a>.
<li>IE4 may report "problem with security settings or file does
    not exist" when downloading this file.  I do not know why.
    If you experience this problem, use IE5 or Netscape Navigator
    instead.
</ol>
<p>
<li>Use these commands to unzip the distribution file:
<pre>mkdir hercules
cd hercules
tar xvzf ../hercules-1.54.tar.gz</pre>
<li>Build the executable files:
<br><code>make</code>
</ol>

<em>Important:</em>
You must use the egcs compiler and the glibc2 library.
Refer to the <a href="hercfaq.htm#software">
Hercules Frequently-Asked Questions</a> page for required
compiler and other software levels.


<h2>Configuration Procedure</h2>
<p>
You will need to amend the configuration file
<em><b>hercules.cnf</b></em> to reflect your device layout.
See the <a href="hercconf.htm">Hercules Configuration File</a> page for
a complete description.

<h2>Creating DASD volumes</h2>
<p>
The <a href="hercload.htm">Creating Hercules DASD</a> page
describes various methods of creating and loading virtual DASD
volumes.

<h2>Operating Procedure</h2>
<p>
<em>Note: If you intend to run any licensed software on your PC
using Hercules, it is your responsibility to ensure that you do not
violate the software vendor's licensing terms.</em>

<h4>Loading a standalone program or operating system</h4>
<p>
To start Hercules in either S/370 mode or ESA/390 mode,
enter the appropriate command at the Unix shell prompt:
<pre><code>hercules-370 [-f <em>filename</em>] [&gt; <em>logfile</em>]
hercules-390 [-f <em>filename</em>] [&gt; <em>logfile</em>]</code></pre>
where <code><em>filename</em></code> is the name of the configuration
file
(the default is <b><em>hercules.cnf</em></b>),
and <code><em>logfile</em></code> is an optional log file which will
receive a copy of all messages displayed on the control panel.

<p>
Next connect a tn3270 client to the console port (normally port 3270).
The client will be connected to the first 3270 device address specified
in the configuration file (this should be the master console address).
If your master console is a 1052 or 3215, connect a telnet client
instead of a tn3270 client.

<p>
Now you can enter an ipl command from the control panel.


<h4>Panel commands</h4>
<p>
<pre>
psw     Display program status word
gpr     Display general-purpose registers
fpr     Display floating-point registers
cr      Display control registers
ar      Display access registers
pr      Display prefix register

r<em>x</em>      Display 64 bytes starting at real address x
r<em>x.n</em>    Display n bytes starting at real address x
r<em>x-y</em>    Display real storage locations x to y
v<em>x</em>      Display 64 bytes starting at virtual address x
v<em>x.n</em>    Display n bytes starting at virtual address x
v<em>x-y</em>    Display virtual storage locations x to y

r<em>x</em>=<em>hexvalue</em>   Alter real storage location x
v<em>x</em>=<em>hexvalue</em>   Alter virtual storage location x

t+      Turn on CPU instruction tracing
t-      Turn off CPU instruction tracing
s+      Turn on CPU single-step mode
s-      Turn off CPU single-step mode
g       Go (turn off CPU single-step mode and start CPU)

b<em>x</em>      Set breakpoint at address x
b-      Clear breakpoint

t+<em>xxxx</em>  Turn on CCW tracing for device number xxxx
t-<em>xxxx</em>  Turn off CCW tracing for device number xxxx
s+<em>xxxx</em>  Turn on CCW single-step mode for device number xxxx
s-<em>xxxx</em>  Turn off CCW single-step mode for device number xxxx
i<em>xxxx</em>   Generate an I/O attention interrupt for device number xxxx

loadparm [<em>xxxxxxxx</em>]  Display or set the IPL parameter
loadcore <em>xxxxxxxx</em>    Load core image from file xxxxxxxx
ipl <em>xxxx</em>             IPL from device number xxxx

ext     Generate an external interrupt
stop    Stop CPU
start   Start CPU
restart Generate a restart interrupt and start CPU
store   Store status
quit    Terminate Hercules

devlist Display configured devices
devinit <em>xxxx</em> [ <em>args</em> ]  Reinitialize device xxxx

.<em>text</em>   Enter an SCP command via the HMC system console
!<em>text</em>   Enter an SCP priority message via the HMC system console
</pre>

<p>
The <em>devinit</em> command can be used to to rewind a tape, to
change the file attached to a disk or tape device, or to load a new
card deck into a reader.
The <em>args</em> (if specified) override the arguments
specified in the configuration file for this device.
The device type cannot be changed and must not be specified.
<p>
In single-step mode, pressing the enter key will advance to the
next instruction.
<p>
There is also an alternate semi-graphical control panel.  Press Esc to
switch between the command line format and the semi-graphical format.

<p><center><hr width=15% noshade></center>
<p>
If you have a question about Hercules, see the
<a href="hercfaq.htm">Hercules Frequently-Asked Questions</a> page.

<p><center><hr width=15% noshade>
<a href="hercules.htm"><img src="gifs/back.gif" border=0></a>
</center>

<small>
<p>Last updated 14 Mar 2000
</BODY>
</HTML>
